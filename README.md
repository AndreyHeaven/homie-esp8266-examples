для работы нужны библиотеки
[pubsubclient](https://github.com/Imroy/pubsubclient)
их надо поставить в %USER%\Documents\Arduino\libraries
тудаже надо прокинуть и папку lib\ из этого репозитория c названием например ShDevice

как настроить Arduino IDE для работы с esp8266 хорошо описано в [http://esp8266.ru/forum/threads/obschie-voprosy-po-arduino-ide-dlja-esp8266.224/](http://esp8266.ru/forum/threads/obschie-voprosy-po-arduino-ide-dlja-esp8266.224/)
так очень хорошее IDE [Atmel Studio ](http://www.atmel.com/ru/ru/tools/atmelstudio.aspx), для нее можно поставить поддержку Arduino Ide и все библиотеки оттуда будут доступны без настроек